(this.webpackJsonppotree=this.webpackJsonppotree||[]).push([[0],{104:function(e,t,n){e.exports=n(170)},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},170:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),o=n(19),r=n.n(o),c=(n(109),n(110),n(17)),s=n(176),l=(n(111),n(45)),u=n(173),d=n(75),w=n.n(d),m=n(76),p=n.n(m),f=n(77),v=n.n(f),h=n(172),E=(n(112),function(e){return a.a.createElement("h3",{className:"section-title"},e.title)}),b=(n(113),function(e){var t=function(e){var t=Object(i.useState)(1e6),n=Object(c.a)(t,2),a=n[0],o=n[1],r=Object(i.useState)(20),s=Object(c.a)(r,2),l=s[0],u=s[1];return Object(i.useEffect)((function(){e&&(window.potreeViewer.setPointBudget(a),window.potreeViewer.setFOV(l))}),[e]),Object(i.useEffect)((function(){e&&window.potreeViewer.setPointBudget(a)}),[a]),Object(i.useEffect)((function(){e&&window.potreeViewer.setFOV(l)}),[l]),{pointBudget:a,fieldOfView:l,onChangePoint:function(e){return o(e)},onChangeField:function(e){return u(e)}}}(e.viewer),n=t.pointBudget,o=t.fieldOfView,r=t.onChangePoint,s=t.onChangeField;return a.a.createElement("div",{className:"appearance__wrapper"},a.a.createElement(E,{title:"Point budget"}),a.a.createElement(h.a,{tipFormatter:null,max:1e7,min:1e4,value:n,onChange:r}),a.a.createElement("p",null,n),a.a.createElement(E,{title:"Field of view"}),a.a.createElement(h.a,{tipFormatter:null,max:100,min:20,value:o,onChange:s}),a.a.createElement("p",null,o))}),g=(n(124),function(e){var t=function(){var e=Object(i.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1];return[n,function(){return a(!0)},function(){return a(!1)}]}(),n=Object(c.a)(t,3),o=n[0],r=n[1],s=n[2];return a.a.createElement("label",{onMouseEnter:r,onMouseLeave:s,className:"measure-button",onClick:e.onClick},a.a.createElement("div",null,a.a.createElement("img",{src:o?e.srcHover:e.src,alt:e.alt})),a.a.createElement("p",null,e.label))}),V=(n(125),function(e){return a.a.createElement("h2",{className:"sub-title"},e.title)}),C=n(85),O=n.n(C),y=n(86),S=n.n(y),k=n(87),j=n.n(k),_=n(88),P=n.n(_),A=n(89),M=n.n(A),x=n(90),N=n.n(x),I=(n(126),n(103)),R=(n(127),function(e){var t=Object(I.a)({},e.style);return a.a.createElement("button",{className:"default-button ".concat(e.active?"active":""),style:t,onClick:e.onClick},e.content)}),B={POINT_MEASURE:function(){return{showDistances:!1,showAngles:!1,showCoordinates:!0,showArea:!1,closed:!0,maxMarkers:1,name:"Point"}},LINE_MEASURE:function(){return{showDistances:!0,showArea:!1,closed:!1,name:"Distance"}},POLYGON_MEASURE:function(){return{showDistances:!0,showArea:!0,closed:!0,name:"Area"}}};function L(e){window.potreeViewer.measuringTool.startInsertion(B[e]())}var D=function(e){var t=Object(i.useState)("show"),n=Object(c.a)(t,2),o=n[0],r=n[1];Object(i.useEffect)((function(){window.potreeViewer&&(window.potreeViewer.measuringTool.showLabels="show"===o)}));var s=[{onClick:function(){e.disposeScene(),L("POINT_MEASURE")},src:O.a,srcHover:P.a,alt:"point icon",label:"Point"},{onClick:function(){e.disposeScene(),L("LINE_MEASURE")},src:S.a,srcHover:M.a,alt:"line icon",label:"Line"},{onClick:function(){e.disposeScene(),L("POLYGON_MEASURE")},src:j.a,srcHover:N.a,alt:"polygon icon",label:"Polygon"}];return a.a.createElement("div",null,a.a.createElement(V,{title:"Measurement"}),a.a.createElement("div",{className:"icon-wrap"},s.map((function(e,t){return a.a.createElement(g,{key:t,onClick:e.onClick,src:e.src,srcHover:e.srcHover,alt:e.src,label:e.label})}))),a.a.createElement(E,{title:"Show/Hide labels"}),a.a.createElement("div",null,a.a.createElement(R,{onClick:function(){return r("show")},active:"show"===o,content:"SHOW"}),a.a.createElement(R,{onClick:function(){return r("hide")},active:"hide"===o,content:"HIDE",style:{marginRight:0}})))},F=(n(128),n(175)),z=(n(129),function(e){var t=Object(i.useState)([]),n=Object(c.a)(t,2),o=n[0],r=n[1],s=Object(i.useState)([{title:"Pointclouds",key:"pointCloud"},{title:"Measurements",key:"measurement"},{title:"Annotations",key:"annotation"}]),u=Object(c.a)(s,2),d=u[0],w=u[1];return Object(i.useEffect)((function(){if(window.potreeViewer){var e=window.potreeViewer.scene,t=e.measurements,n=e.annotations,i=e.pointclouds,a=[];d.map((function(e){var o;switch(e.key){case"pointCloud":o=i.map((function(e){return{key:e.uuid,title:e.name}}));break;case"measurement":o=t.map((function(e){return{key:e.uuid,title:e.name}}));break;case"annotation":o=n.children.map((function(e){return{key:e.uuid,title:e.name}}))}o.map((function(e){return a.push(e.key)})),e.children=o})),r([].concat(a)),w(Object(l.a)(d))}}),[e.update]),a.a.createElement("div",{className:"scene-ui-wrap"},a.a.createElement(V,{title:"Object"}),a.a.createElement(F.a,{showLine:!0,checkable:!0,onCheck:function(e){var t=window.potreeViewer.scene,n=t.measurements,i=t.annotations,a=t.pointclouds;n.map((function(e){return e.visible=!1})),a.map((function(e){return e.visible=!1})),i.children.map((function(e){return e.visible=!1})),e.filter((function(e){return"pointCloud"!==e&&"measurement"!==e&&"annotation"!==e})).map((function(e){n.find((function(t){return t.uuid===e}))&&(n.find((function(t){return t.uuid===e})).visible=!0),i.children.find((function(t){return t.uuid===e}))&&(i.children.find((function(t){return t.uuid===e})).visible=!0),a.find((function(t){return t.uuid===e}))&&(a.find((function(t){return t.uuid===e})).visible=!0)})),r(e)},checkedKeys:o,treeData:d}))}),H=u.a.Panel,T=function(e){var t=Object(i.useState)(["1"]),n=Object(c.a)(t,2),o=n[0],r=n[1],s=function(){var e=Object(i.useState)(["d"]),t=Object(c.a)(e,2),n=t[0],a=t[1];return[n,function(){return a(Object(l.a)(n))}]}(),d=Object(c.a)(s,2),m=d[0],f=d[1],h=[{title:a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:w.a,className:"collapse__header_icon",alt:"appearance icon"})," Appearance"),children:a.a.createElement(b,{viewer:e.viewer})},{title:a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:v.a,className:"collapse__header_icon",alt:"scene icon"}),"Tools"),children:a.a.createElement(D,{disposeScene:f})},{title:a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:p.a,className:"collapse__header_icon",alt:"tool icon"}),"Scene"),children:a.a.createElement(z,{update:m})}];return a.a.createElement("div",{className:"collapse__wrapper"},a.a.createElement(u.a,{defaultActiveKey:o,onChange:function(e){return r(e)},expandIconPosition:"right"},h.map((function(e,t){return a.a.createElement(H,{header:e.title,style:{fontWeight:o.find((function(e){return+e===t+1}))?"bold":null},key:t+1},e.children)}))))},W=(n(164),n(177)),U=n(178),G={arrowStyle:{fontSize:21,color:"var(--selected)"}},q=function(e){return a.a.createElement("div",{className:"hide-collapse-button",onClick:function(){return e.setvisible(!e.visible)}},e.visible?a.a.createElement(W.a,{style:G.arrowStyle}):a.a.createElement(U.a,{style:G.arrowStyle}))},J=window.Cesium,K=window.THREE,Y=window.proj4,$=window.Potree,Q=window.$;n(165);var X={potreeContainer:{position:"absolute",width:"100%",height:"100%",left:0,top:0},potreeRenderArea:{backgroundImage:"url('/lib/potree/potree/resources/images/background.jpg')"},cesiumContainer:{position:"absolute",width:"100%",height:"100%",backgroundColor:"green"}},Z=function(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){t.current&&function(e){window.cesiumViewer=new J.Viewer("cesiumContainer",{useDefaultRenderLoop:!1,animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,imageryProvider:J.createOpenStreetMapImageryProvider({url:"https://a.tile.openstreetmap.org/"}),terrainShadows:J.ShadowMode.DISABLED});var t=new J.Cartesian3(4303414.154026048,552161.235598733,4660771.704035539);window.cesiumViewer.camera.setView({destination:t,orientation:{heading:10,pitch:.5*-J.Math.PI_OVER_TWO,roll:0}}),window.potreeViewer=new $.Viewer(document.getElementById("potree_render_area"),{useDefaultRenderLoop:!1}),window.potreeViewer.setEDLEnabled(!0),window.potreeViewer.setFOV(60),window.potreeViewer.setPointBudget(4e6),window.potreeViewer.setMinNodeSize(50),window.potreeViewer.loadSettingsFromURL(),window.potreeViewer.setBackground(null),window.potreeViewer.useHQ=!0,window.potreeViewer.loadGUI((function(){window.potreeViewer.setLanguage("en"),Q("#menu_appearance").next().show(),Q("#menu_tools").next().show(),Q("#menu_scene").next().show(),window.potreeViewer.toggleSidebar()})),e(window.potreeViewer),$.loadPointCloud("http://5.9.65.151/mschuetz/potree/resources/pointclouds/riegl/retz/cloud.js","Retz",(function(e){var t=window.potreeViewer.scene;t.addPointCloud(e.pointcloud),e.pointcloud.position.set(569277.402752,5400050.599046,0),e.pointcloud.rotation.set(0,0,-.035);var n=e.pointcloud.material;n.pointSizeType=$.PointSizeType.ADAPTIVE,n.size=.7,n.elevationRange=[0,70],n.weightRGB=1,n.weightElevation=1,t.view.position.set(570975.577,5398630.521,1659.311),t.view.lookAt(570115.285,5400866.092,30.009),$.measureTimings=!0;var i="+proj=utm +zone=33 +ellps=WGS84 +datum=WGS84 +units=m +no_defs",a=Y.defs("WGS84");window.toMap=Y(i,a),window.toScene=Y(a,i)})),requestAnimationFrame((function e(t){if(requestAnimationFrame(e),window.potreeViewer.update(window.potreeViewer.clock.getDelta(),t),window.potreeViewer.render(),void 0!==window.toMap){var n=window.potreeViewer.scene.getActiveCamera(),i=new K.Vector3(0,0,0).applyMatrix4(n.matrixWorld),a=(new K.Vector3(600,0,0).applyMatrix4(n.matrixWorld),new K.Vector3(0,600,0).applyMatrix4(n.matrixWorld)),o=window.potreeViewer.scene.view.getPivot(),r=function(e){var t,n=[e.x,e.y],i=e.z,a=window.toMap.forward(n);return(t=J.Cartesian3).fromDegrees.apply(t,Object(l.a)(a).concat([i]))},c=r(i),s=r(a),u=r(o),d=J.Cartesian3.subtract(u,c,new J.Cartesian3),w=J.Cartesian3.subtract(s,c,new J.Cartesian3);d=J.Cartesian3.normalize(d,new J.Cartesian3),w=J.Cartesian3.normalize(w,new J.Cartesian3),window.cesiumViewer.camera.setView({destination:c,orientation:{direction:d,up:w}});var m=window.potreeViewer.scene.getActiveCamera().aspect;if(m<1){var p=Math.PI*(window.potreeViewer.scene.getActiveCamera().fov/180);window.cesiumViewer.camera.frustum.fov=p}else{var f=Math.PI*(window.potreeViewer.scene.getActiveCamera().fov/180),v=2*Math.atan(Math.tan(.5*f)*m);window.cesiumViewer.camera.frustum.fov=v}}window.cesiumViewer.render()}))}(e.setviewer)}),[t]),a.a.createElement("div",{className:"potree_container",style:X.potreeContainer,ref:t},a.a.createElement("div",{id:"potree_render_area",style:X.potreeRenderArea},a.a.createElement("div",{id:"cesiumContainer",style:X.cesiumContainer})))},ee=s.a.Sider,te=s.a.Content,ne=function(){var e=Object(i.useState)(!0),t=Object(c.a)(e,2),n=t[0],o=t[1],r=Object(i.useState)(null),l=Object(c.a)(r,2),u=l[0],d=l[1];return a.a.createElement(s.a,null,a.a.createElement(ee,{width:n?300:0},a.a.createElement(T,{viewer:u}),a.a.createElement(q,{visible:n,setvisible:o})),a.a.createElement(te,null,a.a.createElement(Z,{setviewer:d})))};var ie=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(ne,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,t,n){e.exports=n.p+"static/media/icon-appearance.50854d8c.svg"},76:function(e,t,n){e.exports=n.p+"static/media/icon-scene.c12d77e2.svg"},77:function(e,t,n){e.exports=n.p+"static/media/icon-tool.612199bd.svg"},85:function(e,t,n){e.exports=n.p+"static/media/icon-point-default.ea7ec2e3.svg"},86:function(e,t,n){e.exports=n.p+"static/media/icon-line-default.2799f76f.svg"},87:function(e,t,n){e.exports=n.p+"static/media/icon-polygon-default.ca799c61.svg"},88:function(e,t,n){e.exports=n.p+"static/media/icon-point-white.2c316aac.svg"},89:function(e,t,n){e.exports=n.p+"static/media/icon-line-white.78ad6eb0.svg"},90:function(e,t,n){e.exports=n.p+"static/media/icon-polygon-white.5faddf2f.svg"}},[[104,1,2]]]);
//# sourceMappingURL=main.b80f2e69.chunk.js.map